# 程设期末考试

这篇是时隔数年对大一的程设期末考试的一次复盘，算是直面过去这一次滑铁卢了吧，其实不是很难，所以说不要傲慢啊……

## 塔防游戏

### 题目描述

有一款塔防游戏，其地图是由 $n\times m$ 个方格组成的长方形。现在给你一张怪物的位置地图，你的任务是放置一个防御塔。

所有的怪物都在方格内，给出的地图中显示了每个方格内是否有怪物。

防御塔必须放置在某个方格内，并从上、下、左、右四个方向中选一个方向进行攻击。另外，防御塔还需要满足：

1. 防御塔放置处没有怪物。
2. 至少有一个怪物在防御塔攻击的方向上。

请你计算有多少种放置防御塔的方案。如果防御塔位置或者攻击方向不同，那么我们就认为这两个放置方案不同。

### 输入输出格式

输入第一行两个整数，代表地图的长 $n$、宽 $m$。接下来的 $n$ 行，每行 $m$ 个数（$0$ 或 $1$），表示怪兽位置。$1$ 表示该方格有怪兽，$0$ 表示该方格没有怪兽。数据保证至少有一个怪兽在地图上。

输出放置防御塔的方案数。

### 题解

维护两个数组 $right[i]$ 和 $left[i]$，用来保存每一行最右边和最左边的怪物所在位置，若这一行没有怪物这两个值都会是 $0$。接下来我们考虑一行：

如果第 $i$ 行有怪兽，则在这一行可以放的横向攻击的防御塔方法数为：
$$
(right[i]-left[i]+1-row[i])*2+(left[i]-1)+(m-right[i])\\
=right[i]-left[i]+m+1-2*row[i]
$$
其中 $row[i]$ 表示这一行的怪物总数。那么横向攻击的防御塔可以放的个数为：
$$
\sum_{row[i]\neq 0}right[i]-left[i]+m+1-2*row[i]\\
=\sum_{row[i]\neq 0}(right[i]-left[i]+m+1)-2\sum_irow[i]\\
=\sum_{row[i]\neq 0}(right[i]-left[i]+m+1)-2N
$$
其中 $n$ 表示怪物总数。

## 质数问题

### 题目描述

给定一个长度为 $n$ 的数组，并有一个函数：
$$
f(x)=\begin{cases}
数组中能够被 x 整除的数的个数&,x 为素数\\
0 &,x不为素数
\end{cases}
$$
现在要求输入一组 $[l_i,r_i]$，输出 $ans(l_i,r_i)=\sum_{l_i\leq x\leq r_i}f(x)$。

### 题解

直接暴力，不过可以一些手段减少计算量，比如对于比较小的数我们可以用数据存储其是否为素数，可以避免重复计算等等。

## 最萌身高差

### 题目描述

有 $n$ 位同学获得了奖学金，现要从中选出两位代表上台领奖。出于“审美”要求，希望两位上台的同学获得奖金额度较大的同学身高较高，而且两位同学的身高差大于 $m$ 。

请计算选取上台同学的方案数。

### 题解

这道题就是排序后双指针，我们维护左边指针是和右边的指针距离最短的相差 $m$ 的位置，然后每次右指针右移的时候我们进行更新答案。

## 整理图书

### 问题描述

有 $n$ 本书需要放置在书架上。这些书的高度相同，但每本书有自己厚度 $t_i$ 和宽度 $w_i$ 。每本书有两种摆放方式，竖放和横放，摆放效果如下图所示。要求横放的书的宽度之和不能大于竖放的书的厚度之和。

### 题解

0-1 背包。